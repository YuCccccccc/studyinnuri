
Webhook

특정 이벤트가 발생하였을 때 타 서비스나 응용프로그램으로 알림을 보내는 기능. 
웹페이지 또는 웹앱에서 특정이벤트들을 커스텀 callback으로 변환해주는 방법
일반적인 API는 클라이언트가 서버를 호출하는 방식인데 웹훅은 서버에서 특정이벤트가 발생하면 클라이언트를 호출하는 방식으로 역API라고도 한다.
Webhook 프로바이더는 해당 이벤트가 발행하면 HTTP POST 요청을 생성하여 callback URL(endpoint)로 이벤트 정보을 보냅. 
주기적으로 데이터를 폴링(polling)하지 않고 원하는 이벤트에 대한 정보만 수신할 수 있어서 webhook은 리소스나 통신측면에서 훨씬 더 효율적. 
Webhook을 활용하면 커스텀 기능이나 다른 애플리케이션과 연동하여 기능을 확장할 수 있다.

단점으로는 웹앱이 중단되었을 경우 웹훅으로부터오는 데이터가 유실될 가능성이 있다.
웹훅으로 부터 요청에 대한 처리를 완료하였지만 response를 보내지 못했을 경우 웹훅에서 실패로 확인하여 동일정보를 다시 보낼가능성이 있다. 


ex)
 클라이언트에 응답을 전달할 때 Wi-Fi 연결 끊김, 혹은 브라우저 자동 리로드 등의 이유로 클라이언트에서 결제 완료에 대한 응답을 받지 못하는 경우가 간헐적으로 발생합니다. 
 이런 경우를 대비해서 아임포트 서버에서 가맹점 서버로 webhook 이벤트를 발송하여 결제 정보를 동기화할 수 있도록 합니다.